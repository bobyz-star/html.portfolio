<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cambridge Reading Adventure</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .animate-bounce {
            animation: bounce 1s infinite;
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        .animate-slide-in {
            animation: slideIn 0.3s ease-out;
        }
        .animate-scale-up {
            animation: scaleUp 0.2s ease-out;
        }
        .animate-wiggle {
            animation: wiggle 0.5s ease-in-out;
        }
        .animate-rainbow {
            animation: rainbow 2s linear infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8,0,1,1); }
            50% { transform: none; animation-timing-function: cubic-bezier(0,0,0.2,1); }
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-10px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes scaleUp {
            from { transform: scale(0.95); }
            to { transform: scale(1); }
        }
        @keyframes wiggle {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }
        @keyframes rainbow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        .word-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .word-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .phonics-bubble {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 2px;
            animation: pop 0.3s ease-out;
        }
        
        @keyframes pop {
            0% { transform: scale(0); }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .achievement-popup {
            animation: achievementSlide 3s ease-in-out;
        }
        
        @keyframes achievementSlide {
            0% { transform: translateX(100%); }
            15%, 85% { transform: translateX(0); }
            100% { transform: translateX(100%); }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #ff6b6b;
            animation: confetti-fall 3s linear infinite;
            z-index: 1000;
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;
        const { Play, Pause, RotateCcw, BookOpen, Star, Award, Calendar, Target, Keyboard, Shuffle, Check, X, Volume2, Trophy, Gift, Lightbulb, Eye, Ear, Heart, Zap, Brain, Sparkles } = lucide;

        const ReadingApp = () => {
            const [currentDay, setCurrentDay] = useState(1);
            const [currentWordIndex, setCurrentWordIndex] = useState(0);
            const [isPlaying, setIsPlaying] = useState(false);
            const [completedWords, setCompletedWords] = useState(0);
            const [currentLevel, setCurrentLevel] = useState(1);
            const [showCelebration, setShowCelebration] = useState(false);
            const [dailyProgress, setDailyProgress] = useState(0);
            const [activeTab, setActiveTab] = useState('reading');
            const [typingInput, setTypingInput] = useState('');
            const [matchingPairs, setMatchingPairs] = useState([]);
            const [selectedCards, setSelectedCards] = useState([]);
            const [matchedPairs, setMatchedPairs] = useState([]);
            const [gameScore, setGameScore] = useState(0);
            const [achievements, setAchievements] = useState([]);
            const [showAchievement, setShowAchievement] = useState(null);
            const [totalWordsLearned, setTotalWordsLearned] = useState(0);
            const [streak, setStreak] = useState(0);
            const [showDefinition, setShowDefinition] = useState(false);
            const [showPhonics, setShowPhonics] = useState(false);
            const [autoPlay, setAutoPlay] = useState(false);
            const [speechRate, setSpeechRate] = useState(0.6);
            const [showConfetti, setShowConfetti] = useState(false);
            const [dailyWordsCompleted, setDailyWordsCompleted] = useState(new Set());
            const [favoriteWords, setFavoriteWords] = useState(new Set());
            const [difficultyMode, setDifficultyMode] = useState('normal'); // easy, normal, hard
            
            const confettiRef = useRef();

            // Enhanced word scope with definitions and phonics
            const cambridgeWordScope = {
                basic: [
                    { word: 'cat', definition: 'A small furry animal that says meow', phonics: ['c', 'a', 't'], example: 'The cat is sleeping.' },
                    { word: 'dog', definition: 'A friendly animal that says woof', phonics: ['d', 'o', 'g'], example: 'My dog likes to play.' },
                    { word: 'sun', definition: 'The bright star in the sky', phonics: ['s', 'u', 'n'], example: 'The sun is shining today.' },
                    { word: 'run', definition: 'To move fast with your legs', phonics: ['r', 'u', 'n'], example: 'I like to run in the park.' },
                    { word: 'fun', definition: 'Something that makes you happy', phonics: ['f', 'u', 'n'], example: 'Playing games is fun.' },
                    { word: 'big', definition: 'Very large in size', phonics: ['b', 'i', 'g'], example: 'The elephant is big.' },
                    { word: 'red', definition: 'A bright color like fire', phonics: ['r', 'e', 'd'], example: 'The apple is red.' },
                    { word: 'hat', definition: 'Something you wear on your head', phonics: ['h', 'a', 't'], example: 'I wear a hat when it\'s sunny.' },
                    { word: 'bat', definition: 'An animal that flies at night', phonics: ['b', 'a', 't'], example: 'The bat sleeps upside down.' },
                    { word: 'sit', definition: 'To rest on a chair', phonics: ['s', 'i', 't'], example: 'Please sit down here.' }
                ],
                sight: [
                    { word: 'the', definition: 'A word that comes before a thing', phonics: ['th', 'e'], example: 'The book is on the table.' },
                    { word: 'and', definition: 'A word that connects two things', phonics: ['a', 'n', 'd'], example: 'I like cats and dogs.' },
                    { word: 'you', definition: 'The person I am talking to', phonics: ['y', 'ou'], example: 'You are my friend.' },
                    { word: 'are', definition: 'A word that tells what you do', phonics: ['a', 're'], example: 'You are happy today.' },
                    { word: 'but', definition: 'A word that shows difference', phonics: ['b', 'u', 't'], example: 'I like cake but not candy.' },
                    { word: 'not', definition: 'The opposite of yes', phonics: ['n', 'o', 't'], example: 'This is not my toy.' },
                    { word: 'all', definition: 'Every single one', phonics: ['a', 'll'], example: 'All the children are playing.' },
                    { word: 'can', definition: 'Being able to do something', phonics: ['c', 'a', 'n'], example: 'I can ride a bike.' },
                    { word: 'had', definition: 'Owned something before', phonics: ['h', 'a', 'd'], example: 'I had a cookie yesterday.' },
                    { word: 'see', definition: 'To look at something with your eyes', phonics: ['s', 'ee'], example: 'I can see the rainbow.' }
                ],
                simple: [
                    { word: 'jump', definition: 'To leap up in the air', phonics: ['j', 'u', 'm', 'p'], example: 'I can jump very high.' },
                    { word: 'help', definition: 'To make something easier for someone', phonics: ['h', 'e', 'l', 'p'], example: 'Can you help me carry this?' },
                    { word: 'love', definition: 'To care about someone very much', phonics: ['l', 'o', 'v', 'e'], example: 'I love my family.' },
                    { word: 'play', definition: 'To have fun with games or toys', phonics: ['p', 'l', 'ay'], example: 'Let\'s play together!' },
                    { word: 'book', definition: 'Pages with words and pictures', phonics: ['b', 'oo', 'k'], example: 'I read a book every night.' },
                    { word: 'look', definition: 'To use your eyes to see', phonics: ['l', 'oo', 'k'], example: 'Look at the beautiful flowers.' },
                    { word: 'good', definition: 'Something nice or well done', phonics: ['g', 'oo', 'd'], example: 'You did a good job!' },
                    { word: 'come', definition: 'To move toward someone', phonics: ['c', 'o', 'm', 'e'], example: 'Come and sit with me.' },
                    { word: 'make', definition: 'To create or build something', phonics: ['m', 'a', 'k', 'e'], example: 'Let\'s make a sandcastle.' },
                    { word: 'time', definition: 'When something happens', phonics: ['t', 'i', 'm', 'e'], example: 'What time is it?' }
                ]
            };

            // Seasonal themed words for each month with enhanced data
            const seasonalThemes = {
                1: { emoji: '🎊', theme: 'New Year', color: 'from-blue-400 to-purple-600', words: [
                    { word: 'new', definition: 'Something that just started', phonics: ['n', 'ew'], example: 'Happy New Year!' },
                    { word: 'year', definition: 'Twelve months together', phonics: ['y', 'ear'], example: 'This year will be great!' },
                    { word: 'party', definition: 'A fun celebration with friends', phonics: ['p', 'ar', 't', 'y'], example: 'We had a birthday party.' }
                ]},
                2: { emoji: '💝', theme: 'Valentine\'s Day', color: 'from-pink-400 to-red-600', words: [
                    { word: 'love', definition: 'To care about someone very much', phonics: ['l', 'o', 'v', 'e'], example: 'I love you, Mom!' },
                    { word: 'heart', definition: 'The shape that means love', phonics: ['h', 'ear', 't'], example: 'Draw a red heart.' },
                    { word: 'hug', definition: 'To put your arms around someone', phonics: ['h', 'u', 'g'], example: 'Give me a big hug!' }
                ]},
                3: { emoji: '🌸', theme: 'Spring', color: 'from-green-400 to-pink-500', words: [
                    { word: 'flower', definition: 'A pretty part of a plant', phonics: ['fl', 'ow', 'er'], example: 'The flower smells sweet.' },
                    { word: 'grow', definition: 'To get bigger and taller', phonics: ['gr', 'ow'], example: 'Plants grow in spring.' },
                    { word: 'green', definition: 'The color of grass and leaves', phonics: ['gr', 'ee', 'n'], example: 'The grass is green.' }
                ]}
            };

            const [dailyWords, setDailyWords] = useState([]);

            // Achievement system
            const achievementTypes = [
                { id: 'first_word', name: 'First Steps', description: 'Complete your first word!', icon: '🌟', threshold: 1 },
                { id: 'ten_words', name: 'Word Explorer', description: 'Learn 10 words in one day!', icon: '🚀', threshold: 10 },
                { id: 'level_up', name: 'Level Master', description: 'Reach a new level!', icon: '📚', threshold: 1 },
                { id: 'perfect_match', name: 'Memory Master', description: 'Perfect score in matching game!', icon: '🧠', threshold: 1 },
                { id: 'speed_reader', name: 'Speed Reader', description: 'Complete 50 words!', icon: '⚡', threshold: 50 },
                { id: 'week_streak', name: 'Dedicated Learner', description: 'Learn for 7 days in a row!', icon: '🔥', threshold: 7 },
                { id: 'phonics_master', name: 'Phonics Pro', description: 'Use phonics helper 20 times!', icon: '🎵', threshold: 20 }
            ];

            // Word difficulty assessment
            const getWordLevel = (word) => {
                if (word.length <= 3) return 1;
                if (word.length <= 4) return 2;
                if (word.length <= 5) return 3;
                if (word.length <= 6) return 4;
                if (word.length <= 7) return 5;
                if (word.length <= 8) return 6;
                return 7;
            };

            // Enhanced word generation with difficulty modes
            const generateDailyWords = (day) => {
                let wordsPerDay = difficultyMode === 'easy' ? 50 : difficultyMode === 'hard' ? 100 : 70;
                let wordPool = [];
                
                const currentMonth = Math.ceil(day / 30.42);
                const monthIndex = Math.min(12, Math.max(1, currentMonth));
                const seasonalWords = seasonalThemes[monthIndex]?.words || [];
                
                // Progressive difficulty
                if (day <= 50) {
                    wordPool = [...cambridgeWordScope.basic];
                } else if (day <= 100) {
                    wordPool = [...cambridgeWordScope.basic, ...cambridgeWordScope.sight];
                } else {
                    wordPool = [...cambridgeWordScope.sight, ...cambridgeWordScope.simple];
                }
                
                // Blend seasonal and curriculum words
                const seasonalCount = Math.floor(wordsPerDay * 0.3);
                const curriculumCount = wordsPerDay - seasonalCount;
                
                const selectedWords = [
                    ...seasonalWords.slice(0, seasonalCount),
                    ...wordPool.slice(0, curriculumCount)
                ];
                
                return selectedWords.map((wordData, index) => ({
                    ...wordData,
                    level: getWordLevel(wordData.word),
                    completed: false,
                    id: index,
                    isSeasonal: seasonalWords.includes(wordData)
                }));
            };

            // Enhanced text-to-speech with better voice selection
            const speakWord = useCallback((word, rate = speechRate) => {
                if ('speechSynthesis' in window) {
                    speechSynthesis.cancel();
                    const utterance = new SpeechSynthesisUtterance(word);
                    utterance.rate = rate;
                    utterance.pitch = 1.2;
                    utterance.volume = 0.9;
                    
                    const voices = speechSynthesis.getVoices();
                    const childVoice = voices.find(voice => 
                        voice.name.includes('child') || 
                        voice.name.includes('Child') ||
                        voice.name.includes('kid')
                    );
                    const femaleVoice = voices.find(voice => 
                        voice.name.includes('female') || 
                        voice.name.includes('Female') ||
                        voice.name.includes('woman')
                    );
                    const preferredVoice = childVoice || femaleVoice || voices.find(voice => 
                        voice.lang.includes('en-US') || voice.lang.includes('en-GB')
                    );
                    
                    if (preferredVoice) {
                        utterance.voice = preferredVoice;
                    }

                    speechSynthesis.speak(utterance);
                }
            }, [speechRate]);

            // Achievement checker
            const checkAchievements = useCallback((type, value) => {
                achievementTypes.forEach(achievement => {
                    if (achievement.id === type && value >= achievement.threshold && !achievements.includes(achievement.id)) {
                        setAchievements(prev => [...prev, achievement.id]);
                        setShowAchievement(achievement);
                        setTimeout(() => setShowAchievement(null), 3000);
                        
                        // Trigger confetti for achievements
                        setShowConfetti(true);
                        setTimeout(() => setShowConfetti(false), 3000);
                    }
                });
            }, [achievements]);

            // Confetti effect
            const createConfetti = () => {
                const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#f0932b', '#eb4d4b', '#6c5ce7'];
                const confetti = [];
                
                for (let i = 0; i < 50; i++) {
                    confetti.push(
                        <div
                            key={i}
                            className="confetti"
                            style={{
                                left: Math.random() * window.innerWidth + 'px',
                                backgroundColor: colors[Math.floor(Math.random() * colors.length)],
                                animationDelay: Math.random() * 3 + 's',
                                animationDuration: (Math.random() * 3 + 2) + 's'
                            }}
                        />
                    );
                }
                return confetti;
            };

            // Enhanced word navigation
            const handleNextWord = () => {
                if (currentWordIndex < dailyWords.length - 1) {
                    const updatedWords = [...dailyWords];
                    updatedWords[currentWordIndex].completed = true;
                    setDailyWords(updatedWords);
                    
                    const newCompleted = completedWords + 1;
                    setCurrentWordIndex(currentWordIndex + 1);
                    setCompletedWords(newCompleted);
                    setTotalWordsLearned(prev => prev + 1);
                    setDailyProgress((newCompleted / dailyWords.length) * 100);
                    setDailyWordsCompleted(prev => new Set([...prev, currentWord.word]));
                    
                    // Check achievements
                    checkAchievements('first_word', 1);
                    checkAchievements('ten_words', newCompleted);
                    checkAchievements('speed_reader', totalWordsLearned + 1);
                    
                    if (newCompleted % 10 === 0 && currentLevel < 7) {
                        setCurrentLevel(currentLevel + 1);
                        setShowCelebration(true);
                        setTimeout(() => setShowCelebration(false), 2000);
                        checkAchievements('level_up', 1);
                    }

                    if (autoPlay) {
                        setTimeout(() => {
                            speakWord(dailyWords[currentWordIndex + 1]?.word);
                        }, 1000);
                    }
                }
                
                setIsPlaying(false);
                speechSynthesis.cancel();
            };

            const handlePrevWord = () => {
                if (currentWordIndex > 0) {
                    setCurrentWordIndex(currentWordIndex - 1);
                    setIsPlaying(false);
                    speechSynthesis.cancel();
                }
            };

            const getCurrentMonthTheme = (day) => {
                const currentMonth = Math.ceil(day / 30.42);
                const monthIndex = Math.min(12, Math.max(1, currentMonth));
                return seasonalThemes[monthIndex];
            };

            useEffect(() => {
                setDailyWords(generateDailyWords(currentDay));
                setCurrentWordIndex(0);
                setCompletedWords(0);
                setDailyProgress(0);
                setCurrentLevel(1);
                setDailyWordsCompleted(new Set());
            }, [currentDay, difficultyMode]);

            const currentWord = dailyWords[currentWordIndex];

            const handlePlayPause = () => {
                if (currentWord) {
                    setIsPlaying(!isPlaying);
                    if (!isPlaying) {
                        speakWord(currentWord.word);
                    } else {
                        speechSynthesis.cancel();
                    }
                }
            };

            // Enhanced matching game
            const generateMatchingGame = () => {
                const gameWords = dailyWords.slice(0, 6).filter(w => w.word);
                const pairs = [];
                
                gameWords.forEach((wordObj, index) => {
                    pairs.push({ id: index * 2, content: wordObj.word, type: 'word', matched: false, wordData: wordObj });
                    pairs.push({ id: index * 2 + 1, content: wordObj.word, type: 'audio', matched: false, wordData: wordObj });
                });
                
                setMatchingPairs(pairs.sort(() => Math.random() - 0.5));
                setMatchedPairs([]);
                setSelectedCards([]);
                setGameScore(0);
            };

            const handleCardClick = (card) => {
                if (selectedCards.length < 2 && !selectedCards.find(c => c.id === card.id) && !card.matched) {
                    const newSelected = [...selectedCards, card];
                    setSelectedCards(newSelected);
                    
                    if (card.type === 'audio') {
                        speakWord(card.content);
                    }
                    
                    if (newSelected.length === 2) {
                        setTimeout(() => {
                            if (newSelected[0].content === newSelected[1].content && newSelected[0].type !== newSelected[1].type) {
                                const newMatched = [...matchedPairs, ...newSelected];
                                setMatchedPairs(newMatched);
                                setGameScore(gameScore + 10);
                                
                                const updatedPairs = matchingPairs.map(p => 
                                    newSelected.find(s => s.id === p.id) ? { ...p, matched: true } : p
                                );
                                setMatchingPairs(updatedPairs);
                                
                                // Check for perfect game
                                if (newMatched.length === matchingPairs.length) {
                                    checkAchievements('perfect_match', 1);
                                }
                            }
                            setSelectedCards([]);
                        }, 1000);
                    }
                }
            };

            // Enhanced typing exercise
            const handleTypingSubmit = () => {
                if (currentWord && typingInput.toLowerCase() === currentWord.word.toLowerCase()) {
                    setGameScore(gameScore + 5);
                    handleNextWord();
                    setTypingInput('');
                    
                    // Visual feedback
                    const input = document.querySelector('input[type="text"]');
                    if (input) {
                        input.style.background = 'linear-gradient(45deg, #4ade80, #22c55e)';
                        setTimeout(() => {
                            input.style.background = '';
                        }, 500);
                    }
                }
            };

            const handleTypingKeyPress = (e) => {
                if (e.key === 'Enter') {
                    handleTypingSubmit();
                }
            };

            const toggleFavorite = (word) => {
                setFavoriteWords(prev => {
                    const newFavorites = new Set(prev);
                    if (newFavorites.has(word)) {
                        newFavorites.delete(word);
                    } else {
                        newFavorites.add(word);
                    }
                    return newFavorites;
                });
            };

            const getLevelColor = (level) => {
                const colors = {
                    1: 'bg-green-500',
                    2: 'bg-blue-500',
                    3: 'bg-purple-500',
                    4: 'bg-orange-500',
                    5: 'bg-red-500',
                    6: 'bg-pink-500',
                    7: 'bg-indigo-500'
                };
                return colors[level] || 'bg-gray-500';
            };

            const getDifficultyLabel = (level) => {
                const labels = {
                    1: 'Beginner',
                    2: 'Easy',
                    3: 'Getting Better',
                    4: 'Good',
                    5: 'Great',
                    6: 'Excellent',
                    7: 'Expert'
                };
                return labels[level] || 'Unknown';
            };

            // Enhanced phonics display
            const renderPhonics = (phonics) => {
                if (!phonics) return null;
                return (
                    <div className="flex flex-wrap justify-center gap-2 mt-4">
                        {phonics.map((sound, index) => (
                            <button
                                key={index}
                                onClick={() => speakWord(sound, 0.4)}
                                className="phonics-bubble w-12 h-12 text-lg cursor-pointer hover:scale-110 transition-transform"
                                style={{ animationDelay: `${index * 0.1}s` }}
                            >
                                {sound}
                            </button>
                        ))}
                    </div>
                );
            };

            // Enhanced reading tab with more features
            const renderReadingTab = () => (
                <div className="bg-white rounded-xl shadow-lg p-8 animate-fade-in">
                    {/* Controls */}
                    <div className="flex justify-between items-center mb-6">
                        <div className="flex items-center space-x-4">
                            <button
                                onClick={() => setAutoPlay(!autoPlay)}
                                className={`px-4 py-2 rounded-lg font-semibold transition-colors ${autoPlay ? 'bg-green-500 text-white' : 'bg-gray-200 text-gray-700'}`}
                            >
                                {React.createElement(autoPlay ? Pause : Play, { className: "w-4 h-4 mr-1" })}
                                Auto Play
                            </button>
                            <button
                                onClick={() => setShowDefinition(!showDefinition)}
                                className={`px-4 py-2 rounded-lg font-semibold transition-colors ${showDefinition ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700'}`}
                            >
                                {React.createElement(Lightbulb, { className: "w-4 h-4 mr-1" })}
                                Definition
                            </button>
                            <button
                                onClick={() => setShowPhonics(!showPhonics)}
                                className={`px-4 py-2 rounded-lg font-semibold transition-colors ${showPhonics ? 'bg-purple-500 text-white' : 'bg-gray-200 text-gray-700'}`}
                            >
                                {React.createElement(Volume2, { className: "w-4 h-4 mr-1" })}
                                Phonics
                            </button>
                        </div>
                        
                        <div className="flex items-center space-x-2">
                            <label className="text-sm text-gray-600">Speed:</label>
                            <input
                                type="range"
                                min="0.5"
                                max="1.5"
                                step="0.1"
                                value={speechRate}
                                onChange={(e) => setSpeechRate(parseFloat(e.target.value))}
                                className="w-20"
                            />
                            <span className="text-sm text-gray-600">{speechRate}x</span>
                        </div>
                    </div>

                    {currentWord ? (
                        <div className="text-center">
                            <div className="mb-6">
                                <div className="text-sm text-gray-500 mb-2">
                                    Day {currentDay} • Word {currentWordIndex + 1} of {dailyWords.length}
                                </div>
                                
                                {/* Enhanced word display */}
                                <div className="relative">
                                    <div className="text-8xl font-bold text-gray-800 mb-4 tracking-wide animate-scale-up">
                                        {currentWord.word}
                                    </div>
                                    <button
                                        onClick={() => toggleFavorite(currentWord.word)}
                                        className="absolute top-0 right-0 p-2 rounded-full hover:bg-gray-100 transition-colors"
                                    >
                                        {React.createElement(Heart, { 
                                            className: `w-6 h-6 ${favoriteWords.has(currentWord.word) ? 'text-red-500 fill-current' : 'text-gray-400'}` 
                                        })}
                                    </button>
                                </div>
                                
                                <div className="flex items-center justify-center space-x-4 mb-4">
                                    <div className={`inline-block px-3 py-1 rounded-full text-sm font-semibold text-white ${getLevelColor(currentWord.level)}`}>
                                        {currentWord.word.length} letters • Level {currentWord.level}
                                    </div>
                                    {currentWord.isSeasonal && (
                                        <div className="inline-block px-3 py-1 rounded-full text-sm font-semibold bg-gradient-to-r from-purple-500 to-pink-500 text-white">
                                            <span className="mr-1">{getCurrentMonthTheme(currentDay)?.emoji}</span>
                                            {getCurrentMonthTheme(currentDay)?.theme}
                                        </div>
                                    )}
                                </div>

                                {/* Definition display */}
                                {showDefinition && currentWord.definition && (
                                    <div className="bg-blue-50 rounded-lg p-4 mb-4 animate-slide-in">
                                        <h4 className="font-semibold text-blue-800 mb-2">Definition:</h4>
                                        <p className="text-blue-700">{currentWord.definition}</p>
                                        {currentWord.example && (
                                            <p className="text-blue-600 text-sm mt-2 italic">Example: "{currentWord.example}"</p>
                                        )}
                                    </div>
                                )}

                                {/* Phonics display */}
                                {showPhonics && currentWord.phonics && (
                                    <div className="bg-purple-50 rounded-lg p-4 mb-4 animate-slide-in">
                                        <h4 className="font-semibold text-purple-800 mb-2">Break it down:</h4>
                                        {renderPhonics(currentWord.phonics)}
                                    </div>
                                )}
                            </div>

                            <div className="flex justify-center space-x-4 mb-6">
                                <button
                                    onClick={handlePrevWord}
                                    disabled={currentWordIndex === 0}
                                    className="px-6 py-3 bg-gray-500 text-white rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600 transition-colors"
                                >
                                    Previous
                                </button>
                                
                                <button
                                    onClick={handlePlayPause}
                                    className="px-8 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition-colors flex items-center animate-bounce"
                                >
                                    {React.createElement(isPlaying ? Pause : Play, { className: "w-5 h-5 mr-2" })}
                                    {isPlaying ? 'Stop' : 'Listen'}
                                </button>
                                
                                <button
                                    onClick={handleNextWord}
                                    disabled={currentWordIndex === dailyWords.length - 1}
                                    className="px-6 py-3 bg-green-500 text-white rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-600 transition-colors"
                                >
                                    Next
                                </button>
                            </div>

                            <div className="text-gray-600 text-lg">
                                <p className="mb-2 flex items-center justify-center">
                                    {React.createElement(Ear, { className: "w-5 h-5 mr-2 text-blue-500" })}
                                    Listen carefully to the word
                                </p>
                                <p className="mb-2 flex items-center justify-center">
                                    {React.createElement(Eye, { className: "w-5 h-5 mr-2 text-green-500" })}
                                    Look at how it's spelled
                                </p>
                                <p className="mb-2 flex items-center justify-center">
                                    {React.createElement(Brain, { className: "w-5 h-5 mr-2 text-purple-500" })}
                                    Try to remember it for next time!
                                </p>
                                {currentWord.isSeasonal && (
                                    <p className="text-purple-600 font-semibold flex items-center justify-center">
                                        <span className="mr-2">{getCurrentMonthTheme(currentDay)?.emoji}</span>
                                        Special {getCurrentMonthTheme(currentDay)?.theme} word!
                                    </p>
                                )}
                            </div>
                        </div>
                    ) : (
                        <div className="text-center">
                            <div className="text-6xl mb-4 animate-bounce">🎉</div>
                            <h2 className="text-3xl font-bold text-gray-800 mb-4">Day {currentDay} Complete!</h2>
                            <p className="text-lg text-gray-600 mb-6">You've completed all {dailyWords.length} words for today!</p>
                            <div className="bg-gradient-to-r from-yellow-400 to-orange-500 text-white rounded-lg p-4 mb-6">
                                <h3 className="text-xl font-bold mb-2">Daily Stats</h3>
                                <p>Words learned: {dailyWordsCompleted.size}</p>
                                <p>Total score: {gameScore}</p>
                                <p>Current streak: {streak} days</p>
                            </div>
                            <button
                                onClick={() => setCurrentDay(currentDay + 1)}
                                disabled={currentDay >= 365}
                                className="px-8 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                Next Day
                            </button>
                        </div>
                    )}
                </div>
            );

            // Enhanced matching game with better visuals
            const renderMatchingGame = () => (
                <div className="bg-white rounded-xl shadow-lg p-8 animate-fade-in">
                    <div className="text-center mb-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-2 flex items-center justify-center">
                            {React.createElement(Target, { className: "w-6 h-6 mr-2" })}
                            Matching Game
                        </h3>
                        <p className="text-gray-600">Match the word with its sound!</p>
                        <div className="text-lg font-semibold text-blue-600 mt-2 flex items-center justify-center">
                            {React.createElement(Star, { className: "w-5 h-5 mr-1" })}
                            Score: {gameScore}
                        </div>
                    </div>
                    
                    <div className="grid grid-cols-4 gap-4 max-w-2xl mx-auto">
                        {matchingPairs.map((card) => (
                            <div
                                key={card.id}
                                onClick={() => handleCardClick(card)}
                                className={`word-card h-24 rounded-lg border-2 cursor-pointer transition-all duration-200 flex items-center justify-center text-center p-2 ${
                                    card.matched 
                                        ? 'bg-green-100 border-green-500 animate-pulse' 
                                        : selectedCards.find(c => c.id === card.id)
                                        ? 'bg-blue-100 border-blue-500 animate-wiggle'
                                        : 'bg-gray-50 border-gray-300 hover:bg-gray-100'
                                }`}
                            >
                                {card.type === 'word' ? (
                                    <span className="font-bold text-lg">{card.content}</span>
                                ) : (
                                    <div className="text-center">
                                        {React.createElement(Play, { className: "w-8 h-8 mx-auto mb-1 text-blue-500" })}
                                        <span className="text-xs text-gray-600">Listen</span>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                    
                    <div className="text-center mt-6">
                        <button
                            onClick={generateMatchingGame}
                            className="px-6 py-3 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition-colors flex items-center mx-auto"
                        >
                            {React.createElement(Shuffle, { className: "w-5 h-5 mr-2" })}
                            New Game
                        </button>
                    </div>
                </div>
            );

            // Enhanced typing exercise
            const renderTypingExercise = () => (
                <div className="bg-white rounded-xl shadow-lg p-8 animate-fade-in">
                    <div className="text-center mb-6">
                        <h3 className="text-2xl font-bold text-gray-800 mb-2 flex items-center justify-center">
                            {React.createElement(Keyboard, { className: "w-6 h-6 mr-2" })}
                            Typing Exercise
                        </h3>
                        <p className="text-gray-600">Listen and type the word you hear!</p>
                        <div className="text-lg font-semibold text-blue-600 mt-2 flex items-center justify-center">
                            {React.createElement(Zap, { className: "w-5 h-5 mr-1" })}
                            Score: {gameScore}
                        </div>
                    </div>
                    
                    {currentWord ? (
                        <div className="max-w-md mx-auto">
                            <div className="text-center mb-6">
                                <button
                                    onClick={() => speakWord(currentWord.word)}
                                    className="px-8 py-4 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition-colors flex items-center mx-auto text-lg animate-bounce"
                                >
                                    {React.createElement(Play, { className: "w-6 h-6 mr-2" })}
                                    Play Word
                                </button>
                            </div>
                            
                            <div className="mb-6">
                                <input
                                    type="text"
                                    value={typingInput}
                                    onChange={(e) => setTypingInput(e.target.value)}
                                    onKeyPress={handleTypingKeyPress}
                                    placeholder="Type what you hear..."
                                    className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-lg text-center font-semibold focus:border-blue-500 focus:outline-none transition-all"
                                    autoFocus
                                />
                            </div>
                            
                            <div className="flex justify-center space-x-4 mb-6">
                                <button
                                    onClick={handleTypingSubmit}
                                    className="px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors flex items-center"
                                >
                                    {React.createElement(Check, { className: "w-5 h-5 mr-2" })}
                                    Submit
                                </button>
                                <button
                                    onClick={() => setTypingInput('')}
                                    className="px-6 py-3 bg-gray-500 text-white rounded-lg font-semibold hover:bg-gray-600 transition-colors flex items-center"
                                >
                                    {React.createElement(X, { className: "w-5 h-5 mr-2" })}
                                    Clear
                                </button>
                            </div>
                            
                            <div className="text-center">
                                <div className="text-sm text-gray-500 mb-2">
                                    Hint: {currentWord.word.length} letters
                                </div>
                                <div className={`inline-block px-3 py-1 rounded-full text-sm font-semibold text-white ${getLevelColor(currentWord.level)}`}>
                                    Level {currentWord.level}
                                </div>
                                {currentWord.definition && (
                                    <div className="mt-3 text-sm text-gray-600 bg-gray-50 rounded-lg p-3">
                                        💡 {currentWord.definition}
                                    </div>
                                )}
                            </div>
                        </div>
                    ) : (
                        <div className="text-center">
                            <p className="text-gray-600">Complete some words first to unlock typing practice!</p>
                        </div>
                    )}
                </div>
            );

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-4">
                    {/* Confetti Effect */}
                    {showConfetti && createConfetti()}
                    
                    {/* Achievement Popup */}
                    {showAchievement && (
                        <div className="fixed top-4 right-4 z-50 achievement-popup">
                            <div className="bg-gradient-to-r from-yellow-400 to-orange-500 text-white rounded-lg p-4 shadow-lg">
                                <div className="flex items-center">
                                    <span className="text-2xl mr-3">{showAchievement.icon}</span>
                                    <div>
                                        <h3 className="font-bold">{showAchievement.name}</h3>
                                        <p className="text-sm">{showAchievement.description}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    <div className="max-w-4xl mx-auto">
                        {/* Enhanced Header */}
                        <div className="text-center mb-8">
                            <div className="flex items-center justify-center mb-4">
                                {React.createElement(BookOpen, { className: "w-12 h-12 text-blue-600 mr-3 animate-bounce" })}
                                <h1 className="text-4xl font-bold text-gray-800 animate-rainbow">Cambridge Reading Adventure</h1>
                            </div>
                            <p className="text-lg text-gray-600">Grade 1 • 365 Days • Interactive Learning</p>
                            
                            {/* Enhanced theme display */}
                            <div className="mt-4 inline-block bg-white rounded-full px-6 py-3 shadow-lg">
                                <div className="flex items-center justify-center">
                                    <span className="text-3xl mr-3 animate-bounce">{getCurrentMonthTheme(currentDay)?.emoji}</span>
                                    <span className="text-lg font-semibold text-gray-700">
                                        {getCurrentMonthTheme(currentDay)?.theme} Theme
                                    </span>
                                </div>
                            </div>

                            {/* Difficulty selector */}
                            <div className="mt-4 flex justify-center space-x-2">
                                {['easy', 'normal', 'hard'].map(mode => (
                                    <button
                                        key={mode}
                                        onClick={() => setDifficultyMode(mode)}
                                        className={`px-4 py-2 rounded-lg font-semibold transition-colors ${
                                            difficultyMode === mode 
                                                ? 'bg-blue-500 text-white' 
                                                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                        }`}
                                    >
                                        {mode.charAt(0).toUpperCase() + mode.slice(1)} 
                                        <span className="text-xs ml-1">
                                            ({mode === 'easy' ? '50' : mode === 'hard' ? '100' : '70'} words)
                                        </span>
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Enhanced day selector */}
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-8">
                            <div className="flex items-center justify-between mb-4">
                                <div className="flex items-center">
                                    {React.createElement(Calendar, { className: "w-6 h-6 text-blue-500 mr-2" })}
                                    <span className="text-lg font-semibold text-gray-700">Day {currentDay} of 365</span>
                                    {streak > 0 && (
                                        <span className="ml-4 bg-orange-100 text-orange-600 px-2 py-1 rounded-full text-sm flex items-center">
                                            🔥 {streak} day streak
                                        </span>
                                    )}
                                </div>
                                <div className="flex space-x-2">
                                    <button
                                        onClick={() => setCurrentDay(Math.max(1, currentDay - 1))}
                                        disabled={currentDay === 1}
                                        className="px-4 py-2 bg-gray-500 text-white rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600 transition-colors"
                                    >
                                        Previous Day
                                    </button>
                                    <button
                                        onClick={() => setCurrentDay(Math.min(365, currentDay + 1))}
                                        disabled={currentDay === 365}
                                        className="px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-600 transition-colors"
                                    >
                                        Next Day
                                    </button>
                                </div>
                            </div>
                            
                            <div className="w-full bg-gray-200 rounded-full h-3">
                                <div 
                                    className="bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-300"
                                    style={{ width: `${(currentDay / 365) * 100}%` }}
                                ></div>
                            </div>
                        </div>

                        {/* Enhanced progress bar */}
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-8">
                            <div className="flex justify-between items-center mb-4">
                                <div className="flex items-center">
                                    {React.createElement(Star, { className: "w-6 h-6 text-yellow-500 mr-2" })}
                                    <span className="text-lg font-semibold text-gray-700">
                                        Daily Progress: {Math.round(dailyProgress)}%
                                    </span>
                                </div>
                                <div className="text-right">
                                    <div className="text-sm text-gray-500">Words Completed</div>
                                    <div className="text-2xl font-bold text-blue-600">{completedWords}/{dailyWords.length}</div>
                                </div>
                            </div>
                            
                            <div className="w-full bg-gray-200 rounded-full h-4 mb-4">
                                <div 
                                    className="bg-gradient-to-r from-blue-500 to-purple-500 h-4 rounded-full transition-all duration-300"
                                    style={{ width: `${dailyProgress}%` }}
                                ></div>
                            </div>

                            <div className="flex items-center justify-between">
                                <div className={`${getLevelColor(currentLevel)} text-white px-4 py-2 rounded-full text-sm font-semibold flex items-center`}>
                                    {React.createElement(Award, { className: "w-4 h-4 mr-1" })}
                                    Level {currentLevel}: {getDifficultyLabel(currentLevel)}
                                </div>
                                
                                <div className="flex items-center space-x-4 text-sm text-gray-600">
                                    <span className="flex items-center">
                                        {React.createElement(Brain, { className: "w-4 h-4 mr-1" })}
                                        Total: {totalWordsLearned}
                                    </span>
                                    <span className="flex items-center">
                                        {React.createElement(Trophy, { className: "w-4 h-4 mr-1" })}
                                        Achievements: {achievements.length}
                                    </span>
                                    <span className="flex items-center">
                                        {React.createElement(Heart, { className: "w-4 h-4 mr-1" })}
                                        Favorites: {favoriteWords.size}
                                    </span>
                                </div>
                            </div>
                        </div>

                        {/* Enhanced activity tabs */}
                        <div className="bg-white rounded-xl shadow-lg mb-8">
                            <div className="flex border-b">
                                <button
                                    onClick={() => setActiveTab('reading')}
                                    className={`flex-1 py-4 px-6 font-semibold transition-colors flex items-center justify-center ${
                                        activeTab === 'reading' 
                                            ? 'bg-blue-500 text-white' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    }`}
                                >
                                    {React.createElement(BookOpen, { className: "w-5 h-5 mr-2" })}
                                    Reading
                                    <span className="ml-2 bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded-full">
                                        {completedWords}/{dailyWords.length}
                                    </span>
                                </button>
                                <button
                                    onClick={() => setActiveTab('matching')}
                                    className={`flex-1 py-4 px-6 font-semibold transition-colors flex items-center justify-center ${
                                        activeTab === 'matching' 
                                            ? 'bg-purple-500 text-white' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    }`}
                                >
                                    {React.createElement(Target, { className: "w-5 h-5 mr-2" })}
                                    Matching Game
                                </button>
                                <button
                                    onClick={() => setActiveTab('typing')}
                                    className={`flex-1 py-4 px-6 font-semibold transition-colors flex items-center justify-center ${
                                        activeTab === 'typing' 
                                            ? 'bg-green-500 text-white' 
                                            : 'text-gray-600 hover:bg-gray-100'
                                    }`}
                                >
                                    {React.createElement(Keyboard, { className: "w-5 h-5 mr-2" })}
                                    Typing Exercise
                                </button>
                            </div>
                        </div>

                        {/* Active Tab Content */}
                        {activeTab === 'reading' && renderReadingTab()}
                        {activeTab === 'matching' && renderMatchingGame()}
                        {activeTab === 'typing' && renderTypingExercise()}

                        {/* Enhanced celebration modal */}
                        {showCelebration && (
                            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                                <div className="bg-white rounded-xl p-8 text-center animate-bounce">
                                    <div className="text-6xl mb-4 animate-spin">🌟</div>
                                    <h2 className="text-3xl font-bold text-gray-800 mb-2">Level Up!</h2>
                                    <p className="text-lg text-gray-600">You've reached Level {currentLevel}!</p>
                                    <p className="text-sm text-gray-500 mt-2">{getDifficultyLabel(currentLevel)} Reader</p>
                                    <div className="mt-4 bg-gradient-to-r from-yellow-400 to-orange-500 text-white rounded-lg p-3">
                                        <p className="font-semibold">Keep up the great work!</p>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<ReadingApp />, document.getElementById('root'));
    </script>
</body>
</html>